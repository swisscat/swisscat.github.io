(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(24)},24:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),o=a.n(r),i=a(1),l=a(2),c=a(4),u=a(3),m=a(5),h=a(6),p=a(10),d=a.n(p),b=a(11),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={answer:"",formattedAnswer:"",showFeedback:!1,similarityThreshold:.5,numberThreshold:.1},a.handleKeyPress=a.handleKeyPress.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"validateAnswer",value:function(){var e=this,t=[this.props[this.props.question]];switch(this.props.question){case"name":t=this.props.names;break;case"population":return Math.abs((this.state.answer-this.props.population)/this.props.population)<this.state.numberThreshold}return t.some(function(t){return Object(b.stringSimilarity)(t,e.state.answer)>e.state.similarityThreshold})}},{key:"render",value:function(){var e,t,a,n=this;this.state.answer&&this.state.showFeedback&&(this.props.question?"undefined"===typeof this.props[this.props.question]?(e="Invalid question type "+this.props.question,t="danger"):this.validateAnswer()?(e="Correct!",t="success"):(e="Wrong! The "+this.props.question+" is "+this.props[this.props.question].toLocaleString(),t="danger"):(e="Missing question",t="danger"),a=s.a.createElement("div",{className:"mt-5 alert alert-".concat(t)},e));var r=s.a.createElement("input",{className:"form-control",type:"text",onChange:function(e){return n.setState({answer:e.target.value})},onKeyPress:this.handleKeyPress,value:this.state.answer});return"population"===this.props.question&&(r=s.a.createElement(d.a,{className:"form-control",onKeyPress:this.handleKeyPress,thousandSeparator:!0,value:this.state.formattedAnswer,onValueChange:function(e){var t=e.formattedValue,a=e.value;n.setState({formattedAnswer:t,answer:a})}})),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"card"},s.a.createElement("img",{className:"card-img-top border-bottom",src:this.props.flag,alt:"{this.props.name}"}),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"},"What's the ",this.props.question," of this country ?"),r),s.a.createElement("div",{className:"card-footer"},s.a.createElement("button",{type:"button",className:"btn btn-default btn-outline-primary",onClick:function(){n.setState({showFeedback:!0})}},s.a.createElement("i",{className:"fas fa-check"}),"\xa0 Check"),"\xa0",s.a.createElement("button",{type:"button",className:"btn btn-default btn-outline-secondary",onClick:this.refresh},s.a.createElement("i",{className:"fas fa-sync"}),"\xa0 Reload"))),a))}},{key:"handleKeyPress",value:function(e){if("Enter"===e.key)return this.state.showFeedback?this.refresh():(this.setState({showFeedback:!0}),!1)}},{key:"refresh",value:function(){this.setState({answer:"",showFeedback:!1}),this.props.refresh()}}]),t}(n.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},s.a.createElement("button",{className:"navbar-brand btn btn-link",onClick:this.props.navigateTo("")},"Geo Trainer"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},s.a.createElement("div",{className:"navbar-nav mr-auto"},s.a.createElement("button",{className:"nav-item nav-link btn btn-link",href:"#",onClick:this.props.navigateTo("quizz")},"Quizz"),s.a.createElement("button",{className:"nav-item nav-link btn btn-link",href:"#",onClick:this.props.navigateTo("data")},"Database")),s.a.createElement("span",{className:"navbar-text"},"v",this.props.version)))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={columns:a.props.columns},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"}),s.a.createElement("th",{scope:"col"},"Country"),s.a.createElement("th",{scope:"col"},"Capital"),s.a.createElement("th",{scope:"col"},"Population"))),s.a.createElement("tbody",null,this.props.data.map(function(e){return s.a.createElement("tr",{key:e},s.a.createElement("th",{scope:"row",style:{width:"8%"}},s.a.createElement("img",{src:e.flag,alt:e.flag,className:"img-thumbnail"})),s.a.createElement("td",null,e.names.join(", ")),s.a.createElement("td",null,e.capital),s.a.createElement("td",null,e.population.toLocaleString()))})))}}]),t}(n.Component),E=a(7),k=(a(22),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).navigateTo=function(e){return function(){a.setState({navigation:e})}},a.state={mock:!1,version:"0.2",loaded:!1,error:null,countries:[],questions:["capital","name","population"],navigation:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"apiCall",value:function(e){return this.state.mock?new Promise(function(t,a){"undefined"!==typeof E[e]?t(E[e]):a("No mock for "+e)}):fetch(e).then(function(e){return e.json()})}},{key:"componentDidMount",value:function(){var e=this;this.apiCall("https://restcountries.eu/rest/v2/all").then(function(t){e.setState({loaded:!0,countries:t.map(function(e){return e.names=[e.name].concat(e.altSpellings.filter(function(e){return e.length>2})),e})})},function(t){e.setState({isLoaded:!1,error:t})})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.loaded,n=e.navigation,r=e.questions,o=e.countries,i=s.a.createElement("h1",null,"Loading");if(a)switch(n){case"quizz":var l=o[Math.floor(Math.random()*o.length)];i=s.a.createElement(f,Object.assign({},l,{question:r[Math.floor(Math.random()*r.length)],refresh:this.navigateTo("quizz")}));break;case"data":i=s.a.createElement(g,{data:o,columns:r});break;default:i=s.a.createElement("div",null,s.a.createElement("h1",null,"GeoTrainer"),s.a.createElement("p",null,"is your companion to memorize geographical data."),s.a.createElement("br",null),s.a.createElement("ul",null,s.a.createElement("li",null,"Use Database contains the raw data to learn"),s.a.createElement("li",null,"Test your knowledge with the Quizz")))}return t&&(i=s.a.createElement("div",{className:"alert alert-danger",role:"alert"},t)),s.a.createElement("div",{className:"app"},s.a.createElement(v,{navigateTo:this.navigateTo,version:this.state.version}),s.a.createElement("main",{className:"container mt-5"},i),s.a.createElement("footer",{className:"footer",style:{position:"absolute",bottom:0,height:"60px",lineHeight:"60px",width:"100%"}},s.a.createElement("div",{className:"container"},"Made with ",s.a.createElement("i",{className:"fas fa-heart",style:{color:"red"}})," in Switzerland")))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e){e.exports={"https://restcountries.eu/rest/v2/all":[{name:"Afghanistan",topLevelDomain:[".af"],alpha2Code:"AF",alpha3Code:"AFG",callingCodes:["93"],capital:"Kabul",altSpellings:["AF","Af\u0121\u0101nist\u0101n"],region:"Asia",subregion:"Southern Asia",population:27657145,latlng:[33,65],demonym:"Afghan",area:652230,gini:27.8,timezones:["UTC+04:30"],borders:["IRN","PAK","TKM","UZB","TJK","CHN"],nativeName:"\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646",numericCode:"004",currencies:[{code:"AFN",name:"Afghan afghani",symbol:"\u060b"}],languages:[{iso639_1:"ps",iso639_2:"pus",name:"Pashto",nativeName:"\u067e\u069a\u062a\u0648"},{iso639_1:"uz",iso639_2:"uzb",name:"Uzbek",nativeName:"O\u02bbzbek"},{iso639_1:"tk",iso639_2:"tuk",name:"Turkmen",nativeName:"T\xfcrkmen"}],translations:{de:"Afghanistan",es:"Afganist\xe1n",fr:"Afghanistan",ja:"\u30a2\u30d5\u30ac\u30cb\u30b9\u30bf\u30f3",it:"Afghanistan",br:"Afeganist\xe3o",pt:"Afeganist\xe3o",nl:"Afghanistan",hr:"Afganistan",fa:"\u0627\u0641\u063a\u0627\u0646\u0633\u062a\u0627\u0646"},flag:"https://restcountries.eu/data/afg.svg",regionalBlocs:[{acronym:"SAARC",name:"South Asian Association for Regional Cooperation",otherAcronyms:[],otherNames:[]}],cioc:"AFG"}]}}},[[12,2,1]]]);
//# sourceMappingURL=main.e68091d4.chunk.js.map